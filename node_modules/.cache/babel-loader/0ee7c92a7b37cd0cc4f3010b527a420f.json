{"ast":null,"code":"var _jsxFileName = \"/home/rails/Desktop/parking-app/parking-app/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport Header from \"./Components/Header\";\nimport SpaceInput from \"./Components/SpaceInput\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"./Components/Layout\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ModalPage from './Components/ModalPage';\nimport { DataProvider } from \"./Context/DataContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  let navigate = useNavigate();\n  const [userInput, setUserInput] = useState(\"\");\n  const [form, setForm] = useState({\n    registration: \"\",\n    time: \"\"\n  });\n  const [parkingSlots, setParkingSlots] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [price, setPrice] = useState(20);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let data = [];\n\n    for (let i = 1; i <= Number(userInput); i++) {\n      data.push({\n        id: i,\n        isAlloted: false\n      });\n    }\n\n    navigate(\"/layout\");\n    setParkingSlots(data);\n    console.log(data);\n  };\n\n  const handleSubmit2 = e => {\n    e.preventDefault();\n    let randomNum = parkingSlots[Math.floor(Math.random() * parkingSlots.length)];\n    const slotBooked = parkingSlots.map(item => {\n      if (item === randomNum) {\n        if (item.isAlloted !== true) {\n          return { ...item,\n            isAlloted: true,\n            registration: form.registration,\n            time: form.time\n          };\n        } else {\n          const notify = () => toast(\"Please select another slot \");\n\n          notify();\n          return { ...item\n          };\n        }\n      } else {\n        return item;\n      }\n    });\n    console.log(slotBooked);\n    setParkingSlots(slotBooked);\n    setForm({\n      registration: \"\",\n      time: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DataProvider, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(SpaceInput, {\n            userInput: userInput,\n            setUserInput: setUserInput,\n            handleSubmit: handleSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"layout\",\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            index: true,\n            element: /*#__PURE__*/_jsxDEV(Layout, {\n              handleSubmit2: handleSubmit2,\n              parkingSlots: parkingSlots,\n              form: form,\n              setForm: setForm,\n              open: open,\n              setOpen: setOpen,\n              setPrice: setPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \":slotID\",\n            element: /*#__PURE__*/_jsxDEV(ModalPage, {\n              open: open,\n              price: price,\n              parkingSlots: parkingSlots\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 6\n  }, this);\n};\n\n_s(App, \"4xkdxkzzZN+99FOutjM5pJ6VPVw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Header","SpaceInput","Route","Routes","useNavigate","Layout","ToastContainer","toast","ModalPage","DataProvider","App","navigate","userInput","setUserInput","form","setForm","registration","time","parkingSlots","setParkingSlots","open","setOpen","price","setPrice","handleSubmit","e","preventDefault","data","i","Number","push","id","isAlloted","console","log","handleSubmit2","randomNum","Math","floor","random","length","slotBooked","map","item","notify"],"sources":["/home/rails/Desktop/parking-app/parking-app/src/App.tsx"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport Header from \"./Components/Header\";\nimport SpaceInput from \"./Components/SpaceInput\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"./Components/Layout\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ModalPage from './Components/ModalPage'\nimport { DataProvider } from \"./Context/DataContext\";\n\n\n\n\n\nconst App = () => {\n  let navigate = useNavigate();\n  const [userInput, setUserInput] = useState<string>(\"\");\n  const [form, setForm] = useState<{ registration: string; time: string }>({\n    registration: \"\",\n    time: \"\",\n  });\n  const [parkingSlots, setParkingSlots] = useState<any>([]);\n  const [open , setOpen] = useState<boolean>(false)\n  const [price , setPrice ] = useState<number>(20)\n\n\n\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    let data = [];\n    for (let i = 1; i <= Number(userInput); i++) {\n      data.push({ id: i, isAlloted: false });\n    }\n    navigate(\"/layout\" );\n    setParkingSlots(data);\n    console.log(data);\n  };\n\n\n\n  const handleSubmit2 = (e: React.FormEvent) => {\n    e.preventDefault();\n    let randomNum = parkingSlots[Math.floor(Math.random() * parkingSlots.length)];\n    const slotBooked = parkingSlots.map((item: any) => {\n      if (item === randomNum) {\n        if (item.isAlloted !== true) {\n          return {\n            ...item,\n            isAlloted: true,\n            registration: form.registration,\n            time: form.time\n          };\n        } else{\n          const notify = () => toast(\"Please select another slot \");\n          notify();\n          return { ...item };\n        }\n      } else {\n        return item;\n      }\n    });\n\n    console.log(slotBooked)\n    setParkingSlots(slotBooked);\n    setForm({ registration: \"\", time: \"\" });\n  };\n\n\n  return (\n     <div>\n       <DataProvider>\n      <Header />\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <SpaceInput\n              userInput={userInput}\n              setUserInput={setUserInput}\n              handleSubmit={handleSubmit}\n            />\n          }\n        />\n      <Route path = \"layout\">\n        <Route index element = {<Layout \n              handleSubmit2={handleSubmit2}\n              parkingSlots={parkingSlots}\n              form={form}\n              setForm={setForm}\n              open = {open} setOpen = {setOpen}\n              setPrice = {setPrice}\n              />}/>\n              <Route path = \":slotID\" element = {<ModalPage open = {open} price = {price} parkingSlots = {parkingSlots}/>}/>\n        </Route>\n      </Routes>\n      <ToastContainer />\n      </DataProvider>\n\n    </div>\n   \n  );\n};\n\nexport default App;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}