{"ast":null,"code":"var _jsxFileName = \"/home/rails/Desktop/parking-app/parking-app/src/Context/DataContext.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { createContext } from 'react';\nimport { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst contextDefaultValues = {\n  parkingSlots: [],\n  userInput: '',\n  open: false,\n  price: 0,\n  setOpen: function (value) {\n    throw new Error(\"Function not implemented.\");\n  },\n  setPrice: function (value) {\n    throw new Error(\"Function not implemented.\");\n  },\n  form: {\n    registration: \"\",\n    time: \"\"\n  },\n  setForm: function (value) {\n    throw new Error(\"Function not implemented.\");\n  },\n  handleSubmit: function (e) {\n    throw new Error(\"Function not implemented.\");\n  }\n};\nconst DataContext = /*#__PURE__*/createContext(contextDefaultValues);\nexport const DataProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  let navigate = useNavigate();\n  const [userInput, setUserInput] = useState(\"\");\n  const [form, setForm] = useState({\n    registration: \"\",\n    time: \"\"\n  });\n  const [parkingSlots, setParkingSlots] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [price, setPrice] = useState(20);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let data = [];\n\n    for (let i = 1; i <= Number(userInput); i++) {\n      data.push({\n        id: i,\n        isAlloted: false\n      });\n    }\n\n    navigate(\"/layout\");\n    setParkingSlots(data);\n    console.log(data);\n  };\n\n  const handleSubmit2 = e => {\n    e.preventDefault();\n    let randomNum = parkingSlots[Math.floor(Math.random() * parkingSlots.length)];\n    const slotBooked = parkingSlots.map(item => {\n      if (item === randomNum) {\n        if (item.isAlloted !== true) {\n          return { ...item,\n            isAlloted: true,\n            registration: form.registration,\n            time: form.time\n          };\n        } else {\n          const notify = () => toast(\"Please select another slot \");\n\n          notify();\n          return { ...item\n          };\n        }\n      } else {\n        return item;\n      }\n    });\n    console.log(slotBooked);\n    setParkingSlots(slotBooked);\n    setForm({\n      registration: \"\",\n      time: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      handleSubmit,\n      parkingSlots,\n      open,\n      setOpen,\n      price,\n      setPrice,\n      form,\n      setForm\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 10\n  }, this);\n};\n\n_s(DataProvider, \"EGN3iSZiqzPDvojDZ41/fW0KKVA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = DataProvider;\nexport default DataContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["React","createContext","useState","useNavigate","toast","contextDefaultValues","parkingSlots","userInput","open","price","setOpen","value","Error","setPrice","form","registration","time","setForm","handleSubmit","e","DataContext","DataProvider","children","navigate","setUserInput","setParkingSlots","preventDefault","data","i","Number","push","id","isAlloted","console","log","handleSubmit2","randomNum","Math","floor","random","length","slotBooked","map","item","notify"],"sources":["/home/rails/Desktop/parking-app/parking-app/src/Context/DataContext.tsx"],"sourcesContent":["import React, { FormEvent, ReactNode, SetStateAction } from \"react\";\nimport {createContext} from 'react'\nimport { ParkingContextState } from './types'\nimport {useState} from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst contextDefaultValues : ParkingContextState = {\n    parkingSlots: [],\n    userInput: '',\n    open: false,\n    price: 0,\n    setOpen: function (value: SetStateAction<boolean>): void {\n        throw new Error(\"Function not implemented.\");\n    },\n    setPrice: function (value: SetStateAction<number>): void {\n        throw new Error(\"Function not implemented.\");\n    },\n    form: {\n        registration: \"\",\n        time: \"\"\n    },\n    setForm: function (value: SetStateAction<{ registration: string; time: string; }>): void {\n        throw new Error(\"Function not implemented.\");\n    },\n    handleSubmit: function (e: FormEvent<Element>): void {\n        throw new Error(\"Function not implemented.\");\n    }\n} \n\ninterface Props {\n    children?: ReactNode\n}\n\nconst DataContext = createContext<ParkingContextState >(contextDefaultValues)\n\n\nexport const DataProvider = ({children} :Props) => {\n\n    let navigate = useNavigate();\n    const [userInput, setUserInput] = useState<string>(\"\");\n    const [form, setForm] = useState<{ registration: string; time: string }>({\n      registration: \"\",\n      time: \"\",\n    });\n    const [parkingSlots, setParkingSlots] = useState<any>([]);\n    const [open , setOpen] = useState<boolean>(false)\n    const [price , setPrice ] = useState<number>(20)\n  \n  \n  \n  \n    const handleSubmit = (e: React.FormEvent) => {\n      e.preventDefault();\n      let data = [];\n      for (let i = 1; i <= Number(userInput); i++) {\n        data.push({ id: i, isAlloted: false });\n      }\n      navigate(\"/layout\" );\n      setParkingSlots(data);\n      console.log(data);\n    };\n  \n  \n  \n    const handleSubmit2 = (e: React.FormEvent) => {\n      e.preventDefault();\n      let randomNum = parkingSlots[Math.floor(Math.random() * parkingSlots.length)];\n      const slotBooked = parkingSlots.map((item: any) => {\n        if (item === randomNum) {\n          if (item.isAlloted !== true) {\n            return {\n              ...item,\n              isAlloted: true,\n              registration: form.registration,\n              time: form.time\n            };\n          } else{\n            const notify = () => toast(\"Please select another slot \");\n            notify();\n            return { ...item };\n          }\n        } else {\n          return item;\n        }\n      });\n  \n      console.log(slotBooked)\n      setParkingSlots(slotBooked);\n      setForm({ registration: \"\", time: \"\" });\n    };\n  \n\n\n\n     return(\n         <DataContext.Provider value = {{\n           handleSubmit , parkingSlots, open , setOpen , price , setPrice, form , setForm \n         }}>\n             {children}\n\n         </DataContext.Provider>\n     ) \n }\n export default DataContext"],"mappings":"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"},"metadata":{},"sourceType":"module"}